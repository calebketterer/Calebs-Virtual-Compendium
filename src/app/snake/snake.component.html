<div class="snake-container">
  <!-- Centered Score -->
  <div class="snake-score-top">
    <span class="score-label">Score:</span>
    <span class="score-value">{{ score }}</span>
  </div>

  <div class="snake-board" [class.game-over]="gameOver">
    <div *ngFor="let row of board; let y = index" class="snake-row">
      <div *ngFor="let cell of row; let x = index" class="snake-cell-base" [ngClass]="getCellClass(cell)"></div>
    </div>
    <div class="snake-overlay" *ngIf="gameOver">
      <div class="game-over-text">Game Over!</div>
      <button class="snake-btn overlay-btn" (click)="resetGame(true)">New Game</button>
    </div>
  </div>

  <!-- Instructional Text -->
  <div class="snake-instructions">
    <div class="snake-desc">Eat food and avoid hitting yourself or the wall!</div>
  </div>

  <!-- Controls: On-screen WASD group & New Game/Difficulty, centered below -->
  <div class="snake-bottom-controls">
    <div class="wasd-btns">
      <button class="ctrl-btn" (click)="moveUp()" aria-label="Up">W</button>
      <div>
        <button class="ctrl-btn" (click)="moveLeft()" aria-label="Left">A</button>
        <button class="ctrl-btn" (click)="moveDown()" aria-label="Down">S</button>
        <button class="ctrl-btn" (click)="moveRight()" aria-label="Right">D</button>
      </div>
    </div>
    <div class="ng-diff-group">
      <button class="snake-btn" (click)="resetGame(true)">New Game</button>
      <select class="snake-difficulty" (change)="onDifficultyChange($event)" [value]="selectedDifficultyIdx">
        <option *ngFor="let d of difficulties; let i = index" [value]="i" [selected]="selectedDifficultyIdx === i">{{ d.label }}</option>
      </select>
    </div>
  </div>
</div>